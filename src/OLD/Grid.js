import React, { forwardRef, useEffect } from "react";
import { Layer, Line } from "react-konva";

const Grid = (props, layerRef ) => {
  const lines = [
    [
      362.994983277592, 432.3311036789297, 369.7926421404683,
      454.08361204013374, 349.3996655518396, 439.128762541806,
      331.7257525083612, 454.08361204013374, 315.41137123745824,
      571.0033444816053, 592.7558528428093, 405.1404682274247, 595.47491638796,
      386.1070234113712, 464.9598662207358, 367.0735785953177, 362.994983277592,
      432.3311036789297,
    ],
    [
      497.8393258892575, 430.27830621810125, 486.5938202799069,
      411.8319288245182, 499.7575979240888, 403.8068661154906,
      511.0031035334395, 422.2532435090737, 497.8393258892575,
      430.27830621810125,
    ],
    [
      484.6755482450755, 438.3033689271288, 473.4300426357248,
      419.8569915335457, 486.5938202799069, 411.8319288245182,
      497.8393258892575, 430.27830621810125, 484.6755482450755,
      438.3033689271288,
    ],
    [
      511.0031035334395, 422.2532435090737, 499.75759792408894,
      403.80686611549055, 512.921375568271, 395.781803406463, 524.1668811776216,
      414.2281808000461, 511.0031035334395, 422.2532435090737,
    ],
    [
      471.51177060089356, 446.3284316361564, 460.26626499154287,
      427.88205424257325, 473.4300426357248, 419.8569915335457,
      484.6755482450755, 438.3033689271288, 471.51177060089356,
      446.3284316361564,
    ],
    [
      509.0848314986081, 448.72468361168444, 497.8393258892575,
      430.27830621810125, 511.0031035334395, 422.2532435090737,
      522.2486091427902, 440.6996209026569, 509.0848314986081,
      448.72468361168444,
    ],
    [
      495.92105385442613, 456.74974632071206, 484.6755482450755,
      438.3033689271288, 497.8393258892575, 430.27830621810125,
      509.0848314986081, 448.72468361168444, 495.92105385442613,
      456.74974632071206,
    ],
    [
      458.3479929567115, 454.35349434518395, 447.1024873473608,
      435.9071169516009, 460.2662649915428, 427.88205424257336,
      471.5117706008935, 446.3284316361564, 458.3479929567115,
      454.35349434518395,
    ],
    [
      482.7572762102442, 464.7748090297395, 471.51177060089356,
      446.3284316361564, 484.6755482450755, 438.3033689271288,
      495.92105385442613, 456.74974632071206, 482.7572762102442,
      464.7748090297395,
    ],
    [
      469.5934985660621, 472.7998717387672, 458.3479929567115,
      454.35349434518395, 471.5117706008935, 446.3284316361564,
      482.7572762102441, 464.77480902973963, 469.5934985660621,
      472.7998717387672,
    ],
    [
      445.1842153125294, 462.3785570542116, 433.9387097031787,
      443.9321796606285, 447.10248734736075, 435.9071169516009,
      458.34799295671144, 454.35349434518406, 445.1842153125294,
      462.3785570542116,
    ],
    [
      456.42972092188, 480.82493444779476, 445.1842153125294, 462.3785570542116,
      458.34799295671144, 454.35349434518406, 469.59349856606207,
      472.7998717387672, 456.42972092188, 480.82493444779476,
    ],
    [
      432.0204376683474, 470.4036197632392, 420.77493205899674,
      451.95724236965606, 433.9387097031787, 443.9321796606285,
      445.1842153125294, 462.3785570542116, 432.0204376683474,
      470.4036197632392,
    ],
    [
      443.26594327769806, 488.8499971568223, 432.0204376683474,
      470.4036197632392, 445.1842153125294, 462.3785570542116, 456.42972092188,
      480.82493444779476, 443.26594327769806, 488.8499971568223,
    ],
    [
      430.10216563351605, 496.8750598658499, 418.8566600241655,
      478.42868247226676, 432.0204376683474, 470.4036197632392,
      443.26594327769806, 488.8499971568223, 430.10216563351605,
      496.8750598658499,
    ],
    [
      416.93838798933405, 504.90012257487746, 405.6928823799834,
      486.4537451812943, 418.85666002416536, 478.42868247226676,
      430.102165633516, 496.8750598658499, 416.93838798933405,
      504.90012257487746,
    ],
    [
      403.7746103451519, 512.9251852839051, 392.5291047358013, 494.478807890322,
      405.69288237998336, 486.4537451812944, 416.93838798933393,
      504.9001225748775, 403.7746103451519, 512.9251852839051,
    ],
    [
      390.61083270096987, 520.9502479929326, 379.36532709161935,
      502.50387059934945, 392.5291047358013, 494.478807890322,
      403.7746103451519, 512.9251852839051, 390.61083270096987,
      520.9502479929326,
    ],
    [
      377.4470550567879, 528.9753107019602, 366.20154944743734,
      510.528933308377, 379.36532709161935, 502.50387059934945,
      390.61083270096987, 520.9502479929326, 377.4470550567879,
      528.9753107019602,
    ],
    [
      353.0377718032552, 518.5539960174046, 341.7922661939047,
      500.10761862382145, 354.95604383808666, 492.0825559147939,
      366.20154944743723, 510.52893330837713, 353.0377718032552,
      518.5539960174046,
    ],
    [
      364.2832774126059, 537.0003734109878, 353.0377718032552,
      518.5539960174046, 366.20154944743723, 510.52893330837713,
      377.4470550567879, 528.9753107019602, 364.2832774126059,
      537.0003734109878,
    ],
    [
      342.51760816863083, 499.8293752255262, 331.2721025592802,
      481.38299783194316, 344.4358802034622, 473.35793512291553,
      355.6813858128129, 491.8043125164986, 342.51760816863083,
      499.8293752255262,
    ],
    [
      522.0603192355026, 441.585927335867, 510.81481362615204,
      423.13954994228385, 523.978591270334, 415.1144872332563,
      535.2240968796847, 433.5608646268394, 522.0603192355026, 441.585927335867,
    ],
    [
      355.453315344452, 492.2283163744358, 344.2078097351014,
      473.78193898085266, 357.3715873792834, 465.7568762718252,
      368.61709298863406, 484.2032536654082, 355.453315344452,
      492.2283163744358,
    ],
    [
      370.2159612588489, 483.78791820134103, 358.9704556494984,
      465.3415408077579, 372.1342332936803, 457.31647809873033,
      383.37973890303095, 475.76285549231346, 370.2159612588489,
      483.78791820134103,
    ],
    [
      383.9241324650746, 475.34752002824615, 372.678626855724,
      456.9011426346631, 385.842404499906, 448.8760799256355, 397.0879101092566,
      467.32245731921864, 383.9241324650746, 475.34752002824615,
    ],
    [
      396.69259253572136, 468.36773751732875, 385.44708692637073,
      449.9213601237456, 398.6108645705528, 441.89629741471805,
      409.8563701799034, 460.3426748083012, 396.69259253572136,
      468.36773751732875,
    ],
    [
      365.46339919385196, 511.0689107807314, 354.2178935845014,
      492.6225333871483, 367.3816712286834, 484.5974706781207,
      378.62717683803396, 503.04384807170385, 365.46339919385196,
      511.0689107807314,
    ],
    [
      433.04086398258426, 470.3932881469266, 421.7953583732337,
      451.94691075334345, 434.9591360174157, 443.9218480443158,
      446.2046416267663, 462.36822543789896, 433.04086398258426,
      470.3932881469266,
    ],
    [
      458.04086398258437, 437.3819101443981, 446.7953583732337,
      418.93553275081496, 459.9591360174157, 410.9104700417874,
      471.2046416267663, 429.3568474353705, 458.04086398258437,
      437.3819101443981,
    ],
    [
      492.0408639825843, 425.3777726889332, 480.7953583732337,
      406.93139529535006, 493.95913601741574, 398.90633258632243,
      505.2046416267663, 417.35270997990557, 492.0408639825843,
      425.3777726889332,
    ],
    [
      405.04086398258437, 481.39708081443604, 393.7953583732337,
      462.9507034208529, 406.9591360174157, 454.9256407118253,
      418.2046416267663, 473.3720181054085, 405.04086398258437,
      481.39708081443604,
    ],
    [
      507.0408639825843, 435.3812205684872, 495.79535837323374,
      416.9348431749041, 508.9591360174157, 408.9097804658765,
      520.2046416267664, 427.35615785945964, 507.0408639825843,
      435.3812205684872,
    ],
    [
      382.0408639825843, 497.40259742172253, 370.7953583732337,
      478.9562200281394, 383.95913601741574, 470.9311573191118,
      395.2046416267663, 489.37753471269497, 382.0408639825843,
      497.40259742172253,
    ],
  ];

  // useEffect(() => {
  //   const layer = layerRef.current;
  //   if (layer) {
  //     // Find the line component with id "line-component"
  //     const line = layer.find("#line-component");
  //     if (line.length > 0) {
  //       console.log("Line found:", line[0]);
  //     } else {
  //       console.log("Line not found");
  //     }
  //   }
  // }, [layerRef]);

  return (
    <Layer ref={layerRef}>
      {lines.map((eachLine, index) => (
          <Line
            id="line-component"
            key={index} // Unique key for each line
            points={eachLine}
            stroke="black" // Example stroke color
            strokeWidth={1} // Example stroke width
          />
      ))}
    </Layer>
  );
};

export default forwardRef(Grid);
